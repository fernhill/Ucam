<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>UCAM</title>

	<!-- demo -->
	<link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<link href="vkp/css/demo.css" rel="stylesheet">
	

	<!-- include -->

    <!-- Custom Theme Style -->
    <link href="../build/css/custom.min.css" rel="stylesheet">
  
	<!-- jQuery & jQuery UI + theme (required) -->
	<link href="vkp/css/jquery-ui.min.css" rel="stylesheet">
	<script src="vkp/js/jquery-latest.min.js"></script>
	<script src="js/gauge.min.js"></script>
	<script src="js/socket.io.js"></script>
	
	<!--<script src="vkp/js/bootstrap.min.js"></script>-->
	
		<!-- keyboard widget css & script (required) -->
	<link rel="stylesheet" href="vkp//css/keyboard.css">
	<link href="css/blurt.min.css" rel="stylesheet">
	<script src="js/blurt.min.js"></script>
	<script src="vkp//js/jquery.keyboard.js"></script>
	<script src="js/top.js"></script>
	

	<!-- keyboard extensions (optional) -->
	<script src="vkp//js/jquery.mousewheel.js"></script>
	<!--
	<script src="../js/jquery.keyboard.extension-typing.js"></script>
	<script src="../js/jquery.keyboard.extension-autocomplete.js"></script>
	-->
	<script src="vkp//js/jquery.keyboard.extension-navigation.js"></script>
	<!-- initialize keyboard (required) -->
	<script>
    document.getElementById("screen").innerHTML = "Manual";
	</script>
	<style>
    
	.tbbg {
		background-image: url(images/444.jpg);
		background-size: cover;
	}
	.btn1{/*dent around button*/
		display: inline-block;
		position: relative;
		text-decoration: none;
		color: rgba(3, 169, 244, 0.54);
		width: 100px;
		height: 100px;
		border-radius: 50%;
		text-align: center;
		background: #f7f7f7;
		box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.08);
	}
	.btn1 .fa {/*Button itself*/
		position: absolute;
		content: '';
		width: 80px;
		height: 80px;
		line-height: 80px;
		vertical-align: middle; 
		left: 10px;
		top: 9px;
		border-radius: 50%;
		font-size: 40px;
		background-image: -webkit-linear-gradient(#e8e8e8 0%, #d6d6d6 100%);
		background-image: linear-gradient(#e8e8e8 0%, #d6d6d6 100%);
		text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.66);
		box-shadow: inset 0 2px 0 rgba(255,255,255,0.5), 0 2px 2px rgba(0, 0, 0, 0.19);
		border-bottom: solid 2px #b5b5b5;
	  }
	  
	.btn1 .fa:active{
		background-image: -webkit-linear-gradient(#efefef 0%, #d6d6d6 100%);
		box-shadow: inset 0 1px 0 rgba(255,255,255,0.5), 0 2px 2px rgba(0, 0, 0, 0.19);
		border-bottom: solid 2px #d8d8d8;
	}
	
</style>
   
	</head>
	
	<body>
	<table width="800px" height="500px" border="1" align="center" class="tbbg">
	<tr><td valign="top">
	
<!-- top navigation -->
        <div id="header">
		<script src="js/socket.io.js"></script>	
	
<div class="nav_menu" style="background-color: #393e5c;">
				<nav>
					<div class="col-sm-4">
					  <img src="images/logo.png" style="width:120px;height:41px;margin-top:4px;margin-bottom:4px">
					</div>
					<div class="col-sm-4" style="margin-top:12px">
					  <font color="white" size="3" ><b>SINGLE AXIS CONTROLLER</b></font>
					</div>
					<div class="col-sm-4">
						<ul class="navbar-nav navbar-right">
							
							<!--<button class="btn btn-primary"   style="height:26%;margin-top:5px">HOME</button>-->
							<font color="Red">MODE:</font><font color="white" size="2"><span id="screen"></span></font> </div>
				        </ul>
					</div>
				</nav>
					<script>
					var host="192.168.202.1";
					var socket = io.connect('http://'+host+':9090');					
					socket.emit('readaxis',"");
					socket.on('putaxis',function(message){
					document.getElementById('axis').innerHTML=message;
				    });
					
				    document.getElementById('screen').innerHTML=pagename;
					var mode="";
					var alarm_message="";
					var ecs="";
					var step_count="0";
					var dir="";
					var feed_rate="";
					var line_no="-1";
					var active="1";
					var file_name="";
					var sysdate = new Date().toISOString().slice(0,10);
					//var socket = io.connect('http://'+host+':9090');
						socket.emit('getdeactivatedate',"");
						socket.on('put_date',function(message3){
							var d_date=message3;
						
							if(sysdate>d_date){
								active = 0;
							}
						
						});
					//document.getElementById("lineno").innerHTML=" ";
					document.getElementById("fname").innerHTML=" ";
					</script>	
						
						
		</div>
		<div class="row top_tiles" style="margin-left:1px;margin-right:1px" >
		<div class="row" id="menu">
		
	<center>
	
	<button class="btn btn-default" id="btnmanual" onclick="parent.window.location='manualv1.html?pagename=MANUAL'">MANUAL</button>
	<button  class="btn btn-default" id="btnauto" onclick="window.location='autov1.html?pagename=AUTO'">AUTO</button>
	<button class="btn btn-default"  id="btnprogram" onclick="window.location='programv1.html?pagename=PROGRAM'">EDIT</button>
	<button class="btn btn-default"  id="btnsettings" onclick="parent.window.location='settingsv1.html?pagename=SETTINGS'">SETTINGS</button>
	<button class="btn btn-primary"  onclick="reset()">RESET</button>
	<!--<button class="btn btn-danger"  onclick="emergency()">EMERGENCY</button>-->
	
	</center>
    <script>
	
	if(pagename=="MANUAL"){
	
		document.getElementById('btnmanual').className="btn btn-warning";
	}
	if(pagename=="PROGRAM"){
		
		document.getElementById('btnprogram').className="btn btn-warning";
	}
	if(pagename=="AUTO"){
		
		document.getElementById('btnauto').className="btn btn-warning";
	}
	if(pagename=="SETTINGS"){
		
		document.getElementById('btnsettings').className="btn btn-warning";
	}
	function reset(){
	 socket.emit('reset',{'status':'clear'});
	}
	
	function emergency(){
	 socket.emit("emergency",{"status":'true'});
	}
	 </script>
	 
		</div>
		<div class="col-lg-4 col-md-4 col-sm-4 col-xs-4" id="positionA">
		
<!--<link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/segment7" type="text/css"/>-->
<style>

@font-face {
    font-family: 'Segment7Standard';
        src: url('../vendors/digital_num/Segment7Standard.otf') format('opentype');
    font-weight: normal;
    font-style: italic;
      }

 /* The following rules are deprecated. */ 

@font-face {
    font-family: 'Segment7';
        src: url('../vendors/digital_num/Segment7Standard.otf') format('opentype');
    font-weight: normal;
    font-style: italic;
      }
	  
	  

</style>

<script src="js/socket.io.js"></script>
					<div class="tile-stats" style="height:85px;">
					<div>
					<table border="0" style="width:255px;table-layout:fixed">
					<tr>
					<td align="center" style="font-size:12px;height:30px;">&nbsp;&nbsp;&nbsp;ACTUAL POSITION</td>
					<td align="left" style="font-size:12px;">&nbsp;&nbsp;&nbsp;DESTINATION </td>
					</tr>
					<tr>
					<td class="count" style="font-size: 29px;"><font color="#35d12f" size="5" id="clr" style="font-size:27px; margin-right:5px; font-family: arial,helvetica,sans-serif;">A&nbsp;</font><span id="x_cur" style=""></span></td>
					<td class="count"><font size="4">&nbsp;<span id="x_dest" style="font-size: 26px;" ></span></td>
					</tr>
					</table>
					</div>
				    </div>
	
<script>
var dialflag = 1;
//var socket = io.connect('http://'+host+':9090');	
//############### Checking program execution current line###########



socket.emit('get_file_cont',"123");
socket.on('sent_file_cont',function(content){
	var file_name=content.split(":")[1];
	var line_num=content.split(":")[3];
	var setmode=1;
	var ecs=0;
	if(content==""){
	
	}else{
		
			var values = "";
			socket.emit('filewriting',values);
			//window.location.href='http://'+host+':8082/ucam_new/sac/autov1.html?pagename=AUTO=fn='+file_name+'=t='+line_num;
				
		/*brompt('Program still running, do u want to countinue...', function(val){
			
			//alert(line_no);
			//execute(line_no);
			var values = "";
			socket.emit('filewriting',values);
			window.location.href='http://'+host+':8082/ucam_new/sac/autov1.html?pagename=AUTO=fn='+file_name+'=t='+line_num;
			
		},
		function(){
			var values = "";
			//alert(values);
			socket.emit('filewriting',values);
			
		});*/
	}
	
	
});
//############### ends here ###########
var pr=0,prev=0,inc=0;
// socket.emit("destination_position1","123.123");
socket.on("destination_position", function(data){
    // console.log(data.pos);
    var pos = data.pos;
    if(pos === null || pos === undefined){
      return;
    }
    if(Object.keys(data).length == 0){
      return;
    }
    pos = Math.round(pos*10000)/10000;
    var rnd = Math.round(pos);
    if(Math.abs(rnd-pos) <= 0.001){
       pos = rnd;
    }
    pos = pos % 360;
    //console.log(Math.round(a));
	// if(pos<0){
	// 	pos = 360+pos;
	// }
    pos = parseFloat(pos).toFixed(3);
    ////console.log(pos);
    //code_content
    //$(".code_content").scrollTop()
    ////console.log(pos);
    var t_obj = document.getElementById('x_cur');
    var t1_obj = document.getElementById('x1_cur');
	if(dialflag){
		try {
			pr = parseInt(pos.toString());
			inc++;
			
			
			if(inc==10){
			if(pr==0){
				
				prev=0;
			}
			if(prev-pr>350){
				pr=0;
				prev=0;
			}
				document.gauges[0].value= pr;
				inc=0;
			}
			prev = pr;
			if(dialflag==1){
				dialflag = 0;
			}
		}
		catch(err) {
			dialflag = 0;
		}

	}
    ////console.log(t_obj);
    t_obj.innerHTML = pos.toString();
    if(t1_obj){
      t1_obj.innerHTML = pos.toString();
    }
    //alert(pos.toString);
    //t_obj.textContent = " "+pos+" ";
    /*if(obj){
      obj.innerHTML = pos;
    }
    $scope.x_cur = pos;*/
  })


//  emit("pos_data1","123.123");
socket.on('pos_data', function(data){
		//console.log("Position Data",data);
		var d = data.split(".");
		if(d.length > 2){
		  data = d[0]+"."+d[1];
		}
		var pos = data.pos;
		pos = Math.round(pos*10000)/10000;
		pos = parseFloat(pos).toFixed(3);
		//console.log(pos);
		var obj = document.getElementById('x_dest');
		var obj1 = document.getElementById('x1_dest');
		if(obj){
		  obj.innerHTML = pos;
		 
		}
		if(obj1){
		  obj1.innerHTML = pos;
		}
	  });
</script>	  	
	 
			

		</div>
		<div class="col-lg-4 col-md-4 col-sm-4 col-xs-4" id="positionB">
		
<!-- <link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/segment7" type="text/css"/> -->
<style>

@font-face {
    font-family: 'Segment7Standard';
        src: url('../vendors/digital_num/Segment7Standard.otf') format('opentype');
    font-weight: normal;
    font-style: italic;
      }

 /* The following rules are deprecated. */ 

@font-face {
    font-family: 'Segment7';
        src: url('../vendors/digital_num/Segment7Standard.otf') format('opentype');
    font-weight: normal;
    font-style: italic;
      }
	
</style>
		       
			<div class="tile-stats" style="height:85px;">
							
			<div>
							
			<table border="0" style="width:255px;table-layout:fixed">
				<tr>
				<td align="center" style="font-size:12px;height:30px;">&nbsp;&nbsp;&nbsp;ACTUAL POSITION</td>
				<td align="left" style="font-size:12px;">&nbsp;&nbsp;&nbsp;DESTINATION </td>
				</tr>
				<tr>
				<td class="count" style="font-size: 29px;"><font color="#7e7e7e" size="5" id="clr2" style="font-size:27px; margin-right:5px; font-family: arial,helvetica,sans-serif;" >B&nbsp;</font><span id="x1_cur"></span></td>
				<td class="count"><font size="4">&nbsp;<span id="x1_dest" style="font-size: 26px;"></span></td>
					</tr>				
				</table>
								
				</div>
				</div>
				
				
				
		
			

		</div> 
		<div class="col-lg-4 col-md-4 col-sm-4 col-xs-4" id="fault">
		<script src="js/socket.io.js"></script>
<style>
body {font-family: Arial, Helvetica, sans-serif;}

/* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
  -webkit-animation-name: fadeIn; /* Fade in the background */
  -webkit-animation-duration: 0.4s;
  animation-name: fadeIn;
  animation-duration: 0.4s
}

/* Modal Content */
.modal-content {
  position: fixed;
  bottom: 0;
  background-color: ;
  width: 100%;
  -webkit-animation-name: slideIn;
  -webkit-animation-duration: 0.4s;
  animation-name: slideIn;
  animation-duration: 0.4s
}

/* The Close Button */
.close {
  color: black;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}

.modal-header1 {
  padding: 2px 16px;
  background-color: #5cb85c;
  color: white;
}

.modal-body {padding: 2px 16px;
 background-color: white;
  color: black;}

.modal-footer {
  padding: 2px 16px;
  background-color: #5cb85c;
  color: white;
}


.modal1 {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
  -webkit-animation-name: fadeIn; /* Fade in the background */
  -webkit-animation-duration: 0.4s;
  animation-name: fadeIn;
  animation-duration: 0.4s
}

/* Modal Content */
.modal-content {
  position: fixed;
  bottom: 0;
  background-color: ;
  width: 100%;
  -webkit-animation-name: slideIn;
  -webkit-animation-duration: 0.4s;
  animation-name: slideIn;
  animation-duration: 0.4s
}

/* The Close1 Button */
.close1 {
  color: black;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close1:hover,
.close1:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}

.modal-header1 {
  padding: 2px 16px;
  background-color: #5cb85c;
  color: white;
}

.modal-body {padding: 2px 16px;
 background-color: white;
  color: black;}

.modal-footer {
  padding: 2px 16px;
  background-color: #5cb85c;
  color: white;
}

/* Add Animation */
@-webkit-keyframes slideIn {
  from {bottom: -300px; opacity: 0} 
  to {bottom: 0; opacity: 1}
}

@keyframes slideIn {
  from {bottom: -300px; opacity: 0}
  to {bottom: 0; opacity: 1}
}

@-webkit-keyframes fadeIn {
  from {opacity: 0} 
  to {opacity: 1}
}

@keyframes fadeIn {
  from {opacity: 0} 
  to {opacity: 1}
}
</style>
<style>
.container1 {
	background-size: cover;
  background: rgb(226,226,226); /* Old browsers */
  background: -moz-linear-gradient(top,  rgba(226,226,226,1) 0%, rgba(219,219,219,1) 50%, rgba(209,209,209,1) 51%, rgba(254,254,254,1) 100%); /* FF3.6+ */
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(226,226,226,1)), color-stop(50%,rgba(219,219,219,1)), color-stop(51%,rgba(209,209,209,1)), color-stop(100%,rgba(254,254,254,1))); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top,  rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top,  rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* Opera 11.10+ */
  background: -ms-linear-gradient(top,  rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* IE10+ */
  background: linear-gradient(to bottom,  rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e2e2e2', endColorstr='#fefefe',GradientType=0 ); /* IE6-9 */
  padding: 20px;
}

.led-box {
  height: 30px;
  width: 25%;
  margin: 10px 0;
  float: left;
}

.led-box p {
  font-size: 12px;
  text-align: center;
  margin: 1em;
}


.led-red {
  margin: 0 auto;
  width: 40px;
  height: 40px;
  background-color: #35d12f;
  border-radius: 50%;
  box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #304701 0 -1px 9px, #89FF00 0 2px 12px;
}


.led-yellow {
  margin: 0 auto;
  width: 24px;
  height: 24px;
  background-color: #FF0;
  border-radius: 50%;
  box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #808002 0 -1px 9px, #FF0 0 2px 12px;
  -webkit-animation: blinkYellow 1s infinite;
  -moz-animation: blinkYellow 1s infinite;
  -ms-animation: blinkYellow 1s infinite;
  -o-animation: blinkYellow 1s infinite;
  animation: blinkYellow 1s infinite;
}

@-webkit-keyframes blinkYellow {
    from { background-color: #FF0; }
    50% { background-color: #AA0; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #808002 0 -1px 9px, #FF0 0 2px 0; }
    to { background-color: #FF0; }
}
@-moz-keyframes blinkYellow {
    from { background-color: #FF0; }
    50% { background-color: #AA0; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #808002 0 -1px 9px, #FF0 0 2px 0; }
    to { background-color: #FF0; }
}
@-ms-keyframes blinkYellow {
    from { background-color: #FF0; }
    50% { background-color: #AA0; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #808002 0 -1px 9px, #FF0 0 2px 0; }
    to { background-color: #FF0; }
}
@-o-keyframes blinkYellow {
    from { background-color: #FF0; }
    50% { background-color: #AA0; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #808002 0 -1px 9px, #FF0 0 2px 0; }
    to { background-color: #FF0; }
}
@keyframes blinkYellow {
    from { background-color: #FF0; }
    50% { background-color: #AA0; box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #808002 0 -1px 9px, #FF0 0 2px 0; }
    to { background-color: #FF0; }
}

.led-green {
  margin: 0 auto;
  width: 40px;
  height: 40px;
  background-color: #35d12f;
  border-radius: 50%;
  box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #304701 0 -1px 9px, #89FF00 0 2px 12px;
}

.led-blue {
  margin: 0 auto;
  width: 24px;
  height: 24px;
  background-color: #24E0FF;
  border-radius: 50%;
  box-shadow: rgba(0, 0, 0, 0.2) 0 -1px 7px 1px, inset #006 0 -1px 9px, #3F8CFF 0 2px 14px;
}

</style>
<div class="tile-stats" style="height:85px; margin-top:15px;">
<div>
	<table>
		<tr>
			<td align="center" style="font-size:12px;height:30px">&nbsp;FAULT</td>
			<td align="left" style="font-size:12px;">&nbsp;&nbsp;STATUS </td>
			<td align="left" style="font-size:12px;">&nbsp;&nbsp;&nbsp;COMM </td>
			<td align="left" style="font-size:12px;">&nbsp;&nbsp;&nbsp;HEALTH </td>
			
		</tr>
		<tr>
			<td><div class="led-red"  id="myBtn" style="margin-left:5px;"></div></td>
			<td><div class="led-green" id="myBtn1" style="margin-left:12px;"></div> </td>
			<td><div class="led-green" id="ethercatbtn" style="margin-left:22px;"></div> </td>
			<td><div class="led-green" style="margin-left:14px;"></div> </td>
		</tr>
	</table>
	
</div>
</div>

<!-- Trigger/Open The Modal
<button id="myBtn">Open Modal</button> -->

<!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">	
    <div class="modal-header">
      <span class="close">&times;</span>
      <h2>ALARM STATUS</h2>
    </div>
    <div class="modal-body" id="messagedisplay" style="background-color:#05111b;color:white">
     
      <!--<p>Some other text...</p>
	  <p>Some other text...</p>
	  <p>Some other text...</p>
	  <p>Some other text...</p>
	  <p>Some other text...</p>
	  <p>Some other text...</p> -->
    </div>

  </div>

</div>



<div id="myModal1" class="modal1">

  <!-- Modal content -->
  <div class="modal-content">	
    <div class="modal-header">
      <span class="close1">&times;</span>
      <h2>IO STATUS</h2>
    </div>
    <div class="col-md-12 modal-body" style="background-color:#05111b;color:white">
      <div class="col-md-1">
		<div style=" display: inline-block;">ECS</div>
	  </div>
	  <div class="col-md-1">
     <div style="display: inline-block;">FIN</div>
	 </div>
	  <div class="col-md-1">
	 <div style="display: inline-block;">SOL O/P</div>
	 </div>
	  <div class="col-md-1">
     <div style="display: inline-block;">&nbsp;&nbsp;&nbsp;&nbsp;CL</div>
	 </div>
	  <div class="col-md-1">
	 <div style="display: inline-block;">&nbsp;&nbsp;DCL</div>
	 </div>
	  <div class="col-md-1">
	 <div style="display: inline-block;">ALM-IN</div> 
	 </div>
	  <div class="col-md-1">
	 <div style="display: inline-block;">ALM-OUT</div>
	 </div>
	  <div class="col-md-1">
	 <div style="display: inline-block;">&nbsp;HOME</div>
	 </div>
	  <div class="col-md-1">
	 <div style="display: inline-block;">&nbsp;&nbsp;POT</div>
	 </div>
	  <div class="col-md-1">
	 <div style="display: inline-block;">&nbsp;NOT</div>
	 </div>
	 <div class="col-md-1">
	&nbsp;
	 </div>
	 <div class="col-md-1">
	 &nbsp;
	 </div>
	 <div class="col-md-1">
	 &nbsp;
	 </div>
	 <div class="col-md-1">
	&nbsp;
	 </div>
	 <div class="col-md-1">
	&nbsp;
	 </div>
	 <div class="col-md-1">
	&nbsp;
	 </div>
	</div>
     <div class="row" style="background-color:#05111b;color:white">
      <div class="col-md-1">
	    <img menu-toggle="left" src="images/off.png" id="img1"style="height:12px; margin-left:25px;">  </div>
	  <div class="col-md-1">
        <img menu-toggle="left" src="images/off.png" id="img2"style="height:12px; margin-left:30px;">	</div>
	  <div class="col-md-1">
		<img menu-toggle="left" src="images/off.png" id="img3" style="height:12px; margin-left:30px;">	 </div>
	  <div class="col-md-1">
		<img menu-toggle="left" src="images/off.png" id="img4" style="height:12px; margin-left:40px;">	 </div>
	  <div class="col-md-1">
		<img menu-toggle="left" src="images/off.png" id="img5" style="height:12px; margin-left:25px;">	 </div>
	  <div class="col-md-1">
		<img menu-toggle="left" src="images/off.png" id="img6" style="height:12px; margin-left:25px;">	 </div>
	  <div class="col-md-1">
		<img menu-toggle="left" src="images/off.png" id="img7" style="height:12px; margin-left:44px;">	 </div>
	  <div class="col-md-1">
		<img menu-toggle="left" src="images/off.png" id="img8" style="height:12px; margin-left:50px;">	 </div>
	  <div class="col-md-1">
		<img menu-toggle="left" src="images/off.png" id="img9" style="height:12px; margin-left:35px;">	 </div>
	  <div class="col-md-1">
		<img menu-toggle="left" src="images/off.png" id="img10" style="height:12px; margin-left:20px;">	 </div>
	 <div class="col-md-1">
	 &nbsp;
	 </div>
	 <div class="col-md-1">
	 &nbsp;
	 </div>
	 <div class="col-md-1">
	&nbsp;
	 </div>
	 <div class="col-md-1">
	&nbsp;
	 </div>
	</div>
   
    

</div>
</div>

<script>

	//var socket = io.connect('http://'+host+':9090');
	// socket.emit("alarms1","haii");

	socket.on("alarms", function(message){
	var r = message.split(" ");
	if((r[1][2] == 1)
	 {
	 document.getElementById("img8").src ="images/on.png";
	 }
	 else
	 {
	 document.getElementById("img8").src ="images/off.png";
	 }
	 
	 if((r[1][3] == 1)
	 {
	 document.getElementById("img1").src ="images/on.png";
	 }
	 else
	 {
	 document.getElementById("img1").src ="images/off.png";
	 }
	 
	 if((r[1][4] == 1)
	 {
	 document.getElementById("img4").src ="images/on.png";
	 }
	 else
	 {
	 document.getElementById("img4").src ="images/off.png";
	 }
	 
	 if((r[1][5] == 1)
	 {
	 document.getElementById("img5").src ="images/on.png";
	 }
	 else
	 {
	 document.getElementById("img5").src ="images/off.png";
	 }
	 
	 if((r[1][1] == 1)
	 {
	 document.getElementById("img10").src ="images/on.png";
	 }
	 else
	 {
	 document.getElementById("img10").src ="images/off.png";
	 }
	 
	 if((r[1][0] == 1)
	 {
	 document.getElementById("img9").src ="images/on.png";
	 }
	 else
	 {
	 document.getElementById("img9").src ="images/off.png";
	 }
	 
	 if((r[1][1] == 1)
	 {
	  document.getElementById("img6").src ="images/on.png";
	  var ob2=document.getElementById("myBtn");
	  ob2.style.backgroundColor= "#FF0000";
	  document.getElementById("messagedisplay").inneHTML = "NOT Limit Exceeded - Hard Limit"
	 }
	 
	 if(r[1][0] == 1)
	 {
	  document.getElementById("img6").src ="images/on.png";
	  var ob2=document.getElementById("myBtn");
	  ob2.style.backgroundColor= "#FF0000";
	   document.getElementById("messagedisplay").inneHTML = "POT Limit Exceeded - Hard Limit"
	 }
	  
	  
	  
		////console.log("Alarm Data", message);
		/*var r = message.split(" ");
		$scope.$apply(function(){
		  $scope.home = (r[1][2] == 1) ? "images/on.png" : "images/off.png";
		  $scope.ecs = (r[1][3] == 1) ? "images/on.png" : "images/off.png";
		  $scope.cl = (r[1][4] == 1) ? "images/on.png" : "images/off.png";
		  $scope.dcl = (r[1][5] == 1) ? "images/on.png" : "images/off.png";
		  $scope.not = (r[1][1] == 1) ? "images/on.png" : "images/off.png";
		  $scope.pot = (r[1][0] == 1) ? "images/on.png" : "images/off.png";

		  if(r[1][1] == 1){
			  $scope.almin = "./images/on.png";
			  $scope.fault_img = "./images/red_l.png";
			  $scope.alarm_message = "NOT Limit Exceeded - Hard Limit"
		  }
		  if(r[1][0] == 1){
			  $scope.almin = "./images/on.png";
			  $scope.fault_img = "./images/red_l.png";
			  $scope.alarm_message = "POT Limit Exceeded - Hard Limit"
		  }

		})*/
		/*for(var j=0;j<r[1].length;j++){
		  var d = document.getElementById('alarm_x_'+j);
		  if(d){
			d.style.backgroundColor = (r[1][j] == 1) ? "red" : "green";
		  }
		}*/
	  });
 
  // socket.emit("alarm_error1","helloo");
  socket.on("alarm_error", function(message){

    if((message.startsWith("No Alarms"))){
       document.getElementById("img6").src ="images/off.png";
	   var ob2=document.getElementById("myBtn");
       ob2.style.backgroundColor= "#35d12f";
      // $scope.fault_img = "./images/green_l.png";
    }
    else{
      document.getElementById("img6").src ="images/on.png";
	   var ob2=document.getElementById("myBtn");
       ob2.style.backgroundColor= "#FF0000";
      // $scope.fault_img = "./images/red_l.png";
    }

    document.getElementById("messagedisplay").innerHTML = message;

  });
  
 //  socket.emit("FINSIGNAL1","haihello");
  socket.on("FINSIGNAL",function(){
    document.getElementById("img2").src ="images/on.png";
    //console.log("FINSIGNAL RECEIVED");
  });
  
  
  socket.on("ETH_DOWN", function(data){
     // console.log("Ethercat Down");
		 document.getElementById("img6").src ="images/on.png";
		 var ob2=document.getElementById("myBtn");
         ob2.style.backgroundColor= "#FF0000";
		 document.getElementById("messagedisplay").innerHTML = "Communication down. Please check connection and restart";
     // alert("Ethercat Down");
  });

  socket.on("ETH_UP", function(data){
     // console.log("Ethercat Up");
		 document.getElementById("img6").src ="images/off.png";
         var ob2=document.getElementById("myBtn");
         ob2.style.backgroundColor= "#35d12f";		
	     document.getElementById("messagedisplay").innerHTML = "Communication link is up..";
     // alert("Ethercat Up");
  });
</script>

<script>

 
 
// Get the modal
var modal = document.getElementById('myModal');

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
 var ob2=document.getElementById("myBtn");
 //ob2.style.backgroundColor= "#FF0000";
 modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>



<script>

 
 
// Get the modal
var modal1 = document.getElementById('myModal1');

// Get the button that opens the modal
var btn1 = document.getElementById("myBtn1");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close1")[0];

// When the user clicks the button, open the modal 
btn1.onclick = function() {
 modal1.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal1.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal1) {
    modal1.style.display = "none";
  }
}
</script>
		</div>
        </div>

 <script>
   
	function restrat(){
		brompt('Are you sure want to Reset ..!', function(){
			window.location="";
		});
	}
	function emergency(){
		brompt('Emergency Continue ..!', function(){
			window.location="";
		});
	}
</script>




 <div class="container body">
      <div class="main_container">
		<!-- top navigation 
		<iframe src="top.html?p=Manual" height="200px" width="100%" frameBorder="0" scrolling="no" id="top" onload="settitle(this)"></iframe>
         /top navigation -->
		<div class="x_content11">
			<div>
				
				
				<div class="row" style="margin-left:3px;margin-right:3px;">
					<div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
						<div class="row">
							<div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">

								<script>
								
								function turnright(){
									//validitiy();
									document.getElementById('loading').className="loading1";
									
								}
								function turnleft(){
									//validitiy();
									document.getElementById('loading').className="loading2";
									
								}
								</script>       
								<br/><br/>
									<!--<a href="#" class="btn1" onclick="animateGauges1()" id="gauge-value">
									<i class="fa fa-angle-double-left" onclick="setDirection(1)" ></i></a>-->
									
									<a href="#" class="btn1" onclick="animateGauges2()" id="gauge-value2">
									<i class="fa fa-angle-double-left" onclick="setDirection(0)" ></i></a>
									<br/><center>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>LEFT</b></center><br/>
								
							</div><br/>
							<div class="col-lg-4 col-md-4 col-sm-4 col-xs-4" style="margin-left:60px">
		<canvas data-type="radial-gauge"
        data-width="200"
        data-height="200"
        data-min-value="0"
        data-max-value="360"
        data-major-ticks="0,45,90,135,180,225,270,315,0"
        data-minor-ticks="22"
        data-ticks-angle="360"
        data-start-angle="180"
        data-stroke-ticks="false"
        data-highlights="false"
        data-color-plate=""
        data-color-major-ticks="#ffff"
        data-color-minor-ticks=""
        data-color-numbers="#ffffff"
        data-color-needle="rgba(240, 128, 128, 1)"
        data-color-needle-end="rgba(255, 0, 0, .9)"
        data-value-box="false"
        data-animated-value="true"
        data-value-text-shadow="false"
        data-color-circle-inner="#ffffff"
        data-color-needle-circle-outer="#ccc"
        data-needle-circle-size="15"
        data-needle-circle-outer="false"
        data-animation-rule="linear"
        data-needle-type="line"
        data-needle-start="75"
        data-needle-end="105"
        data-needle-width="6"
        data-borders="true"
        data-border-inner-width="0"
        data-border-middle-width="0"
        data-border-outer-width="10"
        data-color-border-outer="#ccc"
        data-color-border-outer-end="#ccc"
        data-color-needle-shadow-down="#222"
        data-border-shadow-width="0"
        data-animation-target="needle"
        data-font-title-size="19"
        data-color-title="#f5f5f5"
        data-animation-duration="5"
        
></canvas>
								
								
							</div>
							<div class="col-lg-2 col-md-2 col-sm-2 col-xs-2" style="margin-left:70px">
								<br/>
									<!--<i class="fa fa-angle-double-right" onclick="setDirection(0)"></i></a>-->
									
									
									<a href="#" class="btn1" onclick="animateGauges1()" id="gauge-value">
									<i  id='rd' class="fa fa-angle-double-right" onclick="setDirection(1)"></i></a>
								<br/><center>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>RIGHT</b></center>
								
							</div>
							<div class="col-lg-10 col-md-10 col-sm-10 col-xs-10">
								<br/>
								<input onchange="speed()" type="range" name="weight" id="range_weight" value="0" min="0" max="20" step="1" oninput="range_weight_disp.value = range_weight.value" class="slider" style="height:25px; margin-top: -20px;">
							</div>
							
							<div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
							
							<output  id="range_weight_disp" style="color:white;font-size:20px;margin-top:0px"> 0</output>
							</div>
						</div>
					</div><center>
					<div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
						<div><br/>
							<button type="button" class="btn btn-primary btn3d" style="width:171px;height:50px;background-color: rgba(51, 122, 183,0.4); margin-top: -13px; margin-bottom: 0px;" onclick="zero()" id="zero_ref"><b>ZERO REF</b></button>																
						</div>
						<div>
						<br/>
							<div class="btn-group">
								<center><b>STEP SIZE</b></center>
								<button class="btn btn-primary" onclick="setStep(1)" id="one" style=" background-color: rgba(51, 122, 183,0.4);height:50px;width:60px; margin-right:6px;"   type="button">0.1</button>
								<button class="btn btn-primary" onclick="setStep(2)" id="two" style="background-color: rgba(51, 122, 183,0.4);height:50px;width:60px; margin-right:6px;" type="button">0.01</button>
								<button class="btn btn-primary" onclick="setStep(3)" id="three" style="background-color: rgba(51, 122, 183,0.4);height:50px;width:60px; margin-right:6px;"  type="button">0.001</button>
							</div>
						</div>
						<div>
							<br/>
							<button  type="button" class="btn btn-primary btn3d" id="stjog" style="height:50px;width:171px;background-color: rgba(51, 122, 183,0.4);" onclick="startjog()" ><b><span id="jog">START JOG</span></b></button>
							
						</div>
					</div></center>					
				</div>	 
			</div>
		</div>
    </div>
     

</div>
<script> 
		 var freez = 0;
         var url = window.location.search;
		 var pagename = url.split("=")[1];
		 //var socket = io.connect('http://'+host+':9090');
		 socket.emit('getposition','123.123');
		 socket.on('putposition',function(message){
		 //alert(message);
		 
		 //document.gauges[0].value=message;
		 });
		socket.emit('getparams',"");
		socket.on('params',function(message7){
			var jsobj = JSON.parse(message7);
			document.getElementById('range_weight_disp').value=jsobj.X.jog_feed;
			document.getElementById('range_weight').value=jsobj.X.jog_feed;

		});
		
		
		function speed() {
	
		
			if(document.getElementById("jog").innerHTML== "STOP JOG"){
		
				feed_rate=document.getElementById('range_weight_disp').value;
		
			
				if(directionflag==0){

				blurt("Please select left of right direction");
				return;
				}
			
		
				
		

					if(feed_rate > 0 && feed_rate < 25){
					  
					  //document.getElementById("jog").innerHTML= "STOP JOG";
					  var f = {"dir":dir,"action":1,"feedrate":feed_rate};
					  //console.log(f);
					  //alert(feed_rate);
					  socket.emit("jog_mode",f);
					  
					  //blurt("step_count: " +step_count +", feed_rate: "+ feed_rate +", direction: "+ dir);
				   }
					else
					{
					  blurt("Feed rate set at zero...");
					}
			}
			
		
		
		
		
		
		
		} 
		
		
		 var directionflag=0;
	    function animateGauges1() {
			if(freez == 1){
				return 0;
			}
			//document.gauges[0].value="360";
			//document.gauges[0].value="100";
			
			var t_obj = document.getElementById('x_cur');
			document.gauges[0].value=t_obj.innerHTML;
				
			
			directionflag=1;
			document.getElementById("gauge-value").style.color="red";
			document.getElementById("gauge-value2").style.color="#53a5ff";
				
        /*document.gauges.forEach(function(gauge) {
            gauge.value =  250;
			
            setTimeout(function() {
                console.log('new gauge value:' + gauge.value);
            }, 1510);
			gauge.update();
        });*/
		}

	function animateGauges2() {
		if(freez == 1){
			return 0;
		}
		var t_obj = document.getElementById('x_cur').innerHTML;
		//alert(t_obj);
		var left_dir=t_obj-360;
		//alert(left_dir);
		document.gauges[0].value=left_dir;
			
		directionflag=2;
		document.getElementById("gauge-value2").style.color="red";
		document.getElementById("gauge-value").style.color="#53a5ff";
        /*document.gauges.forEach(function(gauge) {
            gauge.value =  200;
			
            setTimeout(function() {
                console.log('new gauge value:' + gauge.value);
            }, 1510);
			gauge.update();
        });*/
    }
</script>
<script>

	    function zero() {
		
			if(active==0)
		{
			blurt('Application Expired. Please Activate');
		}
        else
		
		//document.getElementById('zero_ref').disabled = true;
        //var socket = io.connect('http://'+host+':9090');
        socket.emit('goToZero', "");
		socket.on('finish',function(message){
		  //alert(message);
		  	
		});
		dialflag=2;

    }
	
	
	var step_count=0;
	
	  function startjog() {	
	   // animateGauges1();
		dialflag = 2;
	  feed_rate=document.getElementById('range_weight_disp').value;
        //var socket = io.connect('http://'+host+':9090');
		
			if(active==0)
		{
			blurt('Application Expired. Please Activate');
			return;
		}
		else{

		if(directionflag==0){

		blurt("Please select left of right direction");
		return;
		}
		
		
    //console.log($scope.mode);
    //console.log($scope.dir);
    if(dir == 0  && step_count > 0){
      //console.log("Changing Polarity");
      //console.log("value before polarity "+$scope.p.step_count);
      step_count = step_count * -1;
    }
    if(dir == 1){
      step_count = Math.abs(step_count);
    }
	
	if(step_count!=0){
		
	  //console.log('Sending Step Data');
      //console.log({"drive_id":1, "position":$scope.p.step_count});
	  socket.emit("step_mode",{"drive_id":1, "position":step_count});
	  if(directionflag==2){
				var t_obj = document.getElementById('x_cur').innerHTML;
				//alert(t_obj);
				var left_dir=t_obj-360;
				//alert(left_dir);
				document.gauges[0].value=left_dir;
			}
			if(directionflag==1){
				var t_obj = document.getElementById('x_cur');
				document.gauges[0].value=t_obj.innerHTML;
			}
    }else{
	//console.log("Sending Jog Mode");
		if(document.getElementById('jog').innerHTML == "START JOG")
		{  
				if(feed_rate > 0 && feed_rate < 25){
				  //console.log("Starting Jog Now");
				  //$scope.display_text = "STOP JOG"
				  document.getElementById("jog").innerHTML= "STOP JOG";
				  var f = {"dir":dir,"action":1,"feedrate":feed_rate};
				  //console.log(f);
				  
				  socket.emit("jog_mode",f);
				  
				  
				   $('button').prop('disabled', true);
					document.getElementById("stjog").disabled=false;
					//document.getElementById("range_weight").disabled=true;
					document.getElementById("stjog").style.background= "rgba(45, 204, 112, 0.52)"; 
					
					
				  freez = 1;
				  //blurt("step_count: " +step_count +", feed_rate: "+ feed_rate +", direction: "+ dir);
			   }
				else
				{
				  blurt("Feed rate set to zero - 0");
				  
				}
		}else{
		   //console.log("Stopping Jog now");
		   
		   socket.emit("jog_mode",{"dir":dir,"action":0,"feedrate":0});
		   document.getElementById("jog").innerHTML= "START JOG";
		   freez = 0;
		   $('button').prop('disabled', false);
		  // document.getElementById("range_weight").disabled=false;
		   document.getElementById("stjog").style.background= "rgba(51, 122, 183, 0.4)";
		
			if(directionflag==2){
				var t_obj = document.getElementById('x_cur').innerHTML;
				//alert(t_obj);
				var left_dir=t_obj-360;
				//alert(left_dir);
				document.gauges[0].value=left_dir;
			}
			if(directionflag==1){
				var t_obj = document.getElementById('x_cur');
				document.gauges[0].value=t_obj.innerHTML;
			}
		}
	}
	
    }

	
  }
		
	function setStep(val){
    if(val == 1){
		if(Math.abs(step_count)==0.1){
			step_count = 0;
			var ob1=document.getElementById('one').style.background = "rgba(51, 122, 183,0.4)";
			
		}else{
			step_count = 0.1;
			var ob1=document.getElementById('one').style.background = "rgba(45, 204, 112, 0.52)";
			var ob2=document.getElementById('two').style.background = "rgba(51, 122, 183,0.4)";
			var ob3=document.getElementById('three').style.background = "rgba(51, 122, 183,0.4)";
		}
		
    }else if (val == 02) {
		if(Math.abs(step_count)==0.01){
			step_count = 0;
			var ob1=document.getElementById('two').style.background = "rgba(51, 122, 183,0.4)";
			
		}else{
			step_count = 0.01;
			var ob1=document.getElementById('one').style.background = "rgba(51, 122, 183,0.4)";
			var ob2=document.getElementById('two').style.background = "rgba(45, 204, 112, 0.52)";
			var ob3=document.getElementById('three').style.background = "rgba(51, 122, 183,0.4)";
		}
     
    }else{
		if(Math.abs(step_count)==0.001){
			step_count = 0;
			var ob1=document.getElementById('three').style.background = "rgba(51, 122, 183,0.4)";
			
		}else{
			step_count = 0.001;
			var ob1=document.getElementById('one').style.background = "rgba(51, 122, 183,0.4)";
			var ob3=document.getElementById('two').style.background = "rgba(51, 122, 183,0.4)";
			var ob2=document.getElementById('three').style.background = "rgba(45, 204, 112, 0.52)";
			
		}
		
    }

  }
	
    function setDirection(dir1){
	
	if(freez == 1){
		return 0;
	}
    if(dir1 == 1)
	{ var ob1=document.getElementById("gauge-value");
	  var ob2=document.getElementById("gauge-value2");
	  ob1.style.background = "rgba(51, 122, 183,0.4)";
	  ob2.style.background = "#d6d6d6";
      dir = 1;  
    }
	else
	{ var ob1=document.getElementById("gauge-value");
	  var ob2=document.getElementById("gauge-value2");
	  ob1.style.background = "#d6d6d6";
	  ob2.style.background = "rgba(51, 122, 183,0.4)";
      dir = 0;
    }
    }
    
	$("document").ready(function() {
      setTimeout(function() {
        $("#rd").trigger('click');
      },100);
    });

	
</script>

    <!-- Bootstrap -->
    <script src="../vendors/bootstrap/dist/js/bootstrap.min.js"></script>
  

    
    <!-- Custom Theme Scripts -->
    <script src="../build/js/custom.min.js"></script>
	</div>
		</td>
</tr>
</table>
</body>
</html>